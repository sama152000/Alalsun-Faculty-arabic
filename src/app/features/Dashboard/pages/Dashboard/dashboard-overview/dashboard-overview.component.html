<div class="admin-page" dir="rtl">
  <div class="admin-header">
    <h1 class="page-title">نظرة عامة على لوحة التحكم</h1>
    <div class="header-actions">
      <span class="welcome-text">مرحبًا بعودتك، المشرف</span>
      <div class="current-time">{{ currentTime | date:'medium' }}</div>
    </div>
  </div>

  <!-- Statistics Cards -->
  <div class="stats-section" *ngIf="dashboardStats">
    <div class="stats-grid">
      <div class="stat-card primary">
        <div class="stat-icon">
          <i class="pi pi-building"></i>
        </div>
        <div class="stat-content">
          <h3>{{ dashboardStats.totalDepartments }}</h3>
          <p>الأقسام</p>
          <span class="stat-change positive">+2 هذا الشهر</span>
        </div>
      </div>

      <div class="stat-card success">
        <div class="stat-icon">
          <i class="pi pi-users"></i>
        </div>
        <div class="stat-content">
          <h3>{{ dashboardStats.totalStaff }}</h3>
          <p>أعضاء هيئة التدريس</p>
          <span class="stat-change positive">+3 هذا الشهر</span>
        </div>
      </div>

      <div class="stat-card warning">
        <div class="stat-icon">
          <i class="pi pi-graduation-cap"></i>
        </div>
        <div class="stat-content">
          <h3>{{ dashboardStats.totalStudents }}</h3>
          <p>الطلاب</p>
          <span class="stat-change positive">+45 هذا الفصل</span>
        </div>
      </div>

      <div class="stat-card info">
        <div class="stat-icon">
          <i class="pi pi-newspaper"></i>
        </div>
        <div class="stat-content">
          <h3>{{ dashboardStats.totalNews }}</h3>
          <p>المقالات الإخبارية</p>
          <span class="stat-change positive">+5 هذا الأسبوع</span>
        </div>
      </div>

      <div class="stat-card secondary">
        <div class="stat-icon">
          <i class="pi pi-sitemap"></i>
        </div>
        <div class="stat-content">
          <h3>{{ dashboardStats.totalSectors }}</h3>
          <p>قطاعات الكلية</p>
          <span class="stat-change neutral">لا تغيير</span>
        </div>
      </div>

      <div class="stat-card dark">
        <div class="stat-icon">
          <i class="pi pi-images"></i>
        </div>
        <div class="stat-content">
          <h3>{{ dashboardStats.totalMedia }}</h3>
          <p>ملفات الوسائط</p>
          <span class="stat-change positive">+12 هذا الأسبوع</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions-section">
    <h2 class="section-title">إجراءات سريعة</h2>
    <div class="actions-grid">
      <a *ngFor="let action of quickActions" 
         [routerLink]="action.route" 
         class="action-card"
         [class]="'action-' + action.color">
        <div class="action-icon">
          <i [class]="action.icon"></i>
        </div>
        <div class="action-content">
          <h4>{{ action.title }}</h4>
          <p>{{ action.description }}</p>
        </div>
        <div class="action-arrow">
          <i class="pi pi-arrow-right"></i>
        </div>
      </a>
    </div>
  </div>

  <!-- Recent Activities and System Health -->
  <div class="row g-4">
    <div class="col-lg-8">
      <div class="content-card">
        <div class="card-header">
          <h3>الأنشطة الأخيرة</h3>
          <span class="badge bg-primary">{{ recentActivities.length }} أنشطة</span>
        </div>
        <div class="activities-list">
          <div class="activity-item" *ngFor="let activity of recentActivities">
            <div class="activity-icon" [class]="'activity-' + activity.type">
              <i [class]="getActivityIcon(activity.type)"></i>
            </div>
            <div class="activity-content">
              <h4>{{ activity.action }} {{ activity.target }}</h4>
              <p>{{ activity.details }}</p>
              <div class="activity-meta">
                <span class="activity-user">بواسطة {{ activity.user }}</span>
                <span class="activity-time">{{ activity.timestamp | date:'short' }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="content-card">
        <div class="card-header">
          <h3>حالة النظام</h3>
          <span class="badge" [class]="'bg-' + getHealthColor()">{{ systemHealth?.status }}</span>
        </div>
        <div class="system-health" *ngIf="systemHealth">
          <div class="health-item">
            <div class="health-label">
              <i class="pi pi-clock"></i>
              مدة تشغيل النظام
            </div>
            <div class="health-value">{{ systemHealth.uptime }}</div>
          </div>
          <div class="health-item">
            <div class="health-label">
              <i class="pi pi-database"></i>
              آخر نسخة احتياطية
            </div>
            <div class="health-value">{{ systemHealth.lastBackup | date:'short' }}</div>
          </div>
          <div class="health-item">
            <div class="health-label">
              <i class="pi pi-chart-pie"></i>
              التخزين المستخدم
            </div>
            <div class="health-value">
              {{ systemHealth.storageUsed }} جيجابايت / {{ systemHealth.storageTotal }} جيجابايت
            </div>
          </div>
          <div class="storage-bar">
            <div class="storage-fill" 
                 [style.width.%]="(systemHealth.storageUsed / systemHealth.storageTotal) * 100">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>