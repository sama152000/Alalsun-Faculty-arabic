import { Injectable } from '@angular/core';
import { NewsItem, NewsCategory, NewsFilter } from '../model/news.model';

@Injectable({
  providedIn: 'root'
})
export class NewsService {
  private newsItems: NewsItem[] = [
    // === أخبار الطلاب ===
    {
      id: 10,
      title: 'اليوم العالمي للترجمة: تحديات الترجمة الكتابية',
      summary: 'نظمت اللجنة العلمية بكلية الألسن فعالية متميزة بعنوان "اليوم العالمي للترجمة: تحديات الترجمة الكتابية" برعاية رئيس الجامعة وعميد الكلية، بحضور أعضاء هيئة التدريس والطلاب.',
      content: `برعاية الأستاذة الدكتورة صبرين جابر عبد الجليل، رئيس جامعة الأقصر، والأستاذ الدكتور محمود النوبي، عميد كلية الألسن، والأستاذ الدكتور محمد أحمد سيد حمزة، وكيل الكلية لشئون التعليم والطلاب، وتحت إشراف الدكتورة إلهام علي عيسى، منسق الأنشطة الطلابية، والدكتورة أسماء صلاح، منسق اللجنة العلمية، نظمت اللجنة العلمية بكلية الألسن فعالية متميزة بعنوان "اليوم العالمي للترجمة: تحديات الترجمة الكتابية". المتحدثون كانوا الدكتور بليغ حمدي نافع الريدي، رئيس قسم اللغة الألمانية ومترجم معتمد في السفارة الألمانية، والدكتورة ريهام شكري، مدرس اللغويات والترجمة بقسم اللغة الإيطالية، والدكتورة لميس حسن البنا، مدرس اللغويات والترجمة بقسم اللغة الإنجليزية. ناقشوا أصول الترجمة، سبب اختيار 30 سبتمبر كيوم عالمي للترجمة، أهم أدوات الترجمة الحديثة، تحديات الترجمة الكتابية وكيفية التغلب عليها. كما أبرزوا أهمية الترجمة كجسر بين الثقافات والشعوب، وسلطوا الضوء على شخصيات بارزة في الترجمة في مصر والعالم العربي في العصر الحديث. حضر الندوة الأستاذ الدكتور محمود النوبي أحمد، عميد الكلية، والأستاذ الدكتور محمد أحمد سيد حمزة، وكيل الكلية لشئون التعليم والطلاب، والأستاذ الدكتور محمود حمزة، وكيل الكلية لشئون البيئة وخدمة المجتمع، والدكتور وليد مجدي، رئيس قسم اللغة الإسبانية، والدكتورة سحر عبد السلام، مدرس مساعد بقسم اللغة الروسية، والدكتورة أسماء صلاح، مدرس الأدب الألماني، والدكتورة منى مصطفى، مدرس اللغويات والترجمة بقسم اللغة الألمانية، والدكتورة إلهام علي عيسى، مدرس اللغويات والترجمة بقسم اللغة الفرنسية، وعدد كبير من الطلاب من مختلف الأقسام.`,
      date: new Date('2025-09-30'),
      category: NewsCategory.STUDENTS,
      image: './assets/world-translation-day.jpg',
      author: 'لجنة الأنشطة الطلابية',
      tags: ['ترجمة', 'طلاب', 'فعالية', 'دولي']
    },
    {
      id: 11,
      title: 'الترجمة المعتمدة: المتطلبات والتحديات',
      summary: 'نظم قسم اللغة الألمانية فعالية بعنوان "الترجمة المعتمدة" برعاية رئيس الجامعة وعميد الكلية، وقدمها الدكتور بليغ حمدي نافع.',
      content: `برعاية الأستاذة الدكتورة صبرين جابر عبد الجليل، رئيس جامعة الأقصر، والأستاذ الدكتور محمود النوبي، عميد كلية الألسن، والأستاذ الدكتور محمد أحمد سيد حمزة، وكيل الكلية لشئون التعليم والطلاب، وتحت إشراف الدكتور بليغ حمدي نافع، رئيس قسم اللغة الألمانية، نظم قسم اللغة الألمانية بكلية الألسن فعالية متميزة بعنوان "الترجمة المعتمدة". المتحدث كان الدكتور بليغ حمدي نافع الريدي، رئيس قسم اللغة الألمانية ومترجم معتمد في السفارة الألمانية. ناقش الترجمة المعتمدة، المتطلبات لتصبح مترجمًا معتمدًا، والتحديات التي يواجهها المترجمون المعتمدون. حضر الندوة الأستاذ الدكتور محمود النوبي أحمد، عميد الكلية، والدكتور وليد مجدي، رئيس قسم اللغة الإسبانية، والدكتورة سحر عبد السلام، مدرس مساعد بقسم اللغة الروسية، والدكتورة أسماء صلاح، مدرس الأدب الألماني، والدكتورة منى مصطفى، مدرس اللغويات والترجمة بقسم اللغة الألمانية، والدكتورة لميس البنا، مدرس اللغويات بقسم اللغة الإنجليزية، والدكتورة ريهام شكري، مدرس اللغويات بقسم اللغة الإيطالية، وعدد كبير من الطلاب من مختلف الأقسام.`,
      date: new Date('2025-10-01'),
      category: NewsCategory.STUDENTS,
      image: './assets/german-news.jpg',
      author: 'لجنة الأنشطة الطلابية',
      tags: ['ترجمة', 'طلاب', 'فعالية', 'معتمد']
    },
    {
      id: 18,
      title: 'الترجمة المعتمدة: المتطلبات والتحديات',
      summary: 'نظم قسم اللغة الألمانية فعالية بعنوان "الترجمة المعتمدة" برعاية رئيس الجامعة وعميد الكلية، وقدمها الدكتور بليغ حمدي نافع.',
      content: `برعاية الأستاذة الدكتورة صبرين جابر عبد الجليل، رئيس جامعة الأقصر، والأستاذ الدكتور محمود النوبي، عميد كلية الألسن، والأستاذ الدكتور محمد أحمد سيد حمزة، وكيل الكلية لشئون التعليم والطلاب، وتحت إشراف الدكتور بليغ حمدي نافع، رئيس قسم اللغة الألمانية، نظم قسم اللغة الألمانية بكلية الألسن فعالية متميزة بعنوان "الترجمة المعتمدة". المتحدث كان الدكتور بليغ حمدي نافع الريدي، رئيس قسم اللغة الألمانية ومترجم معتمد في السفارة الألمانية. ناقش الترجمة المعتمدة، المتطلبات لتصبح مترجمًا معتمدًا، والتحديات التي يواجهها المترجمون المعتمدون. حضر الندوة الأستاذ الدكتور محمود النوبي أحمد، عميد الكلية، والدكتور وليد مجدي، رئيس قسم اللغة الإسبانية، والدكتورة سحر عبد السلام، مدرس مساعد بقسم اللغة الروسية، والدكتورة أسماء صلاح، مدرس الأدب الألماني، والدكتورة منى مصطفى، مدرس اللغويات والترجمة بقسم اللغة الألمانية، والدكتورة لميس البنا، مدرس اللغويات بقسم اللغة الإنجليزية، والدكتورة ريهام شكري، مدرس اللغويات بقسم اللغة الإيطالية، وعدد كبير من الطلاب من مختلف الأقسام.`,
      date: new Date('2025-10-01'),
      category: NewsCategory.STUDENTS,
      image: './assets/world-translation-day.jpg',
      author: 'لجنة الأنشطة الطلابية',
      tags: ['ترجمة', 'طلاب', 'فعالية', 'معتمد']
    },

    // === أخبار مجلس الإدارة ===
    {
      id: 12,
      title: 'فريق التميز الحكومي يواصل التحضيرات في كلية الألسن',
      summary: 'يواصل فريق التميز بالكلية أعماله المكثفة استعدادًا لمسابقة التميز الحكومي، تحت إشراف الدكتور محمد جمعة الدربي.',
      content: `تماشيًا مع توجيهات الأستاذة الدكتورة صبرين جابر عبد الجليل، رئيس جامعة الأقصر، وبدعم ومتابعة الأستاذ الدكتور محمود النوبي أحمد، عميد كلية الألسن، يواصل فريق التميز بالكلية جهوده المكثفة استعدادًا للمشاركة في مسابقة التميز الحكومي. يشرف على أعمال الفريق الدكتور محمد جمعة الدربي، سفير التميز بالكلية. يتم حاليًا استكمال الإجراءات الأولية وتحميل الملفات الداعمة للمشاركة، مما يعكس التزام الكلية بمعايير الجودة والتميز المؤسسي التي تتبناها جامعة الأقصر. تأتي هذه الجهود ضمن سعي كلية الألسن المستمر لتعزيز ثقافة التميز والتطوير المؤسسي، وتطبيق أفضل الممارسات الإدارية والأكاديمية، دعمًا لرؤية الجامعة لتحقيق الريادة على المستويين المحلي والإقليمي.`,
      date: new Date('2025-10-20'),
      category: NewsCategory.BOARD,
      image: './assets/faculty-new2.jpg',
      author: 'مكتب الإدارة',
      tags: ['تميز', 'إدارة', 'مسابقة', 'حكومي']
    },
    {
      id: 13,
      title: 'جامعة الأقصر تعرض جهود دعم الطلاب في اجتماع المجلس الأعلى للجامعات',
      summary: 'شاركت رئيسة الجامعة في اجتماع المجلس الأعلى للجامعات وأبرزت جهود جامعة الأقصر في دعم الطلاب وتنفيذ مبادرة "تمكين".',
      content: `شاركت الأستاذة الدكتورة صبرين جابر عبد الجليل، رئيس جامعة الأقصر، في اجتماع المجلس الأعلى للجامعات الذي عُقد بجامعة الإسكندرية، برئاسة الدكتور أيمن عاشور، وزير التعليم العالي والبحث العلمي، بحضور رؤساء الجامعات وأمين المجلس الأعلى للجامعات. خلال الاجتماع، أشاد الوزير بجهود الجامعات المصرية في الارتقاء بنظام التعليم، مؤكدًا على الإنجازات المتميزة في التصنيفات الدولية، بما في ذلك دخول 26 جامعة مصرية في تصنيف التايمز العالمي لعام 2026، مما يعكس التطور المستمر في مستوى التعليم والبحث العلمي. تابع الاجتماع تنفيذ المبادرة الرئاسية "تمكين" لدعم الطلاب ذوي الإعاقة، حيث تواصل الجامعات، بما في ذلك جامعة الأقصر، دورها النشط في تقديم خدمات متخصصة للطلاب وتعزيز ثقافة الدمج والتكامل داخل المجتمع الجامعي. كما عرضت جامعة الأقصر جهودها في دعم الأنشطة الطلابية، وتنمية المهارات، وربطها باحتياجات سوق العمل، بالإضافة إلى إنجازات التحول الرقمي داخل الكليات لتطوير الخدمات التعليمية والإدارية. كما تناول الاجتماع عدة ملفات تتعلق بتطوير التعليم والبحث العلمي، بما في ذلك توسيع التعاون الأكاديمي والبحثي مع الجامعات الدولية من خلال برنامج "هورايزون يوروب"، مما يساهم في فتح آفاق تعليمية وبحثية أوسع لطلاب الجامعات. وفي نهاية الاجتماع، أكد وزير التعليم العالي على استمرار دعم الدولة للجامعات، لدورها المحوري في التنمية المصرية والتقدم المجتمعي.`,
      date: new Date('2025-10-25'),
      category: NewsCategory.BOARD,
      image: './assets/faculty-new1.jpg',
      author: 'مكتب الإدارة',
      tags: ['المجلس الأعلى', 'إدارة', 'دعم الطلاب', 'تمكين']
    },
    {
      id: 17,
      title: 'جامعة الأقصر تعرض جهود دعم الطلاب في اجتماع المجلس الأعلى للجامعات',
      summary: 'شاركت رئيسة الجامعة في اجتماع المجلس الأعلى للجامعات وأبرزت جهود جامعة الأقصر في دعم الطلاب وتنفيذ مبادرة "تمكين".',
      content: `شاركت الأستاذة الدكتورة صبرين جابر عبد الجليل، رئيس جامعة الأقصر، في اجتماع المجلس الأعلى للجامعات الذي عُقد بجامعة الإسكندرية، برئاسة الدكتور أيمن عاشور، وزير التعليم العالي والبحث العلمي، بحضور رؤساء الجامعات وأمين المجلس الأعلى للجامعات. خلال الاجتماع، أشاد الوزير بجهود الجامعات المصرية في الارتقاء بنظام التعليم، مؤكدًا على الإنجازات المتميزة في التصنيفات الدولية، بما في ذلك دخول 26 جامعة مصرية في تصنيف التايمز العالمي لعام 2026، مما يعكس التطور المستمر في مستوى التعليم والبحث العلمي. تابع الاجتماع تنفيذ المبادرة الرئاسية "تمكين" لدعم الطلاب ذوي الإعاقة، حيث تواصل الجامعات، بما في ذلك جامعة الأقصر، دورها النشط في تقديم خدمات متخصصة للطلاب وتعزيز ثقافة الدمج والتكامل داخل المجتمع الجامعي. كما عرضت جامعة الأقصر جهودها في دعم الأنشطة الطلابية، وتنمية المهارات، وربطها باحتياجات سوق العمل، بالإضافة إلى إنجازات التحول الرقمي داخل الكليات لتطوير الخدمات التعليمية والإدارية. كما تناول الاجتماع عدة ملفات تتعلق بتطوير التعليم والبحث العلمي، بما في ذلك توسيع التعاون الأكاديمي والبحثي مع الجامعات الدولية من خلال برنامج "هورايزون يوروب"، مما يساهم في فتح آفاق تعليمية وبحثية أوسع لطلاب الجامعات. وفي نهاية الاجتماع، أكد وزير التعليم العالي على استمرار دعم الدولة للجامعات، لدورها المحوري في التنمية المصرية والتقدم المجتمعي.`,
      date: new Date('2025-10-25'),
      category: NewsCategory.BOARD,
      image: './assets/faculty-new2.jpg',
      author: 'مكتب الإدارة',
      tags: ['المجلس الأعلى', 'إدارة', 'دعم الطلاب', 'تمكين']
    },
    // === أخبار الدراسات العليا ===
    {
      id: 14,
      title: 'التحضيرات للمؤتمر الدولي الرابع بكلية الألسن',
      summary: 'تواصل الكلية التحضيرات النهائية للمؤتمر الدولي الرابع بعنوان "التواصل اللغوي والثقافي في العصر الرقمي: الآفاق والتحديات"، بمشاركة 69 باحثًا.',
      content: `تضع كلية الألسن بجامعة الأقصر اللمسات النهائية لانطلاق المؤتمر الدولي الرابع الذي تنظمه الكلية تحت عنوان: "التواصل اللغوي والثقافي في العصر الرقمي: الآفاق والتحديات"، والمقرر افتتاحه غدًا الأربعاء 23 أبريل 2025، ويستمر حتى الخميس 24 أبريل، برعاية الأستاذة الدكتورة صبرين جابر عبد الجليل، رئيس جامعة الأقصر، برئاسة الأستاذ الدكتور محمود النوبي أحمد، عميد كلية الألسن، وتحت إشراف الأستاذ الدكتور يوسف عباس علي، وكيل الكلية للدراسات العليا والبحوث. سيشهد المؤتمر مشاركة 69 باحثًا من مصر وعدة دول عربية، يمثلون نخبة من المتخصصين في اللغة، الترجمة، الدراسات الثقافية، والدراسات الرقمية. سيناقش المؤتمر تأثير التحول الرقمي على أنماط التواصل بين الثقافات والتحديات التي تواجه اللغة والهوية في عصر التكنولوجيا. وفي إطار التحضيرات المكثفة، أكدت أمانة المؤتمر المكونة من الدكتورة أسماء صلاح، والدكتورة لميس البنا، والدكتورة تهاني كامل، والدكتور محمد سلطان، أن فريق الكلية من أعضاء هيئة التدريس والجهاز الإداري والطلاب يعمل على مدار الساعة لتجهيز القاعات، وتنظيم الجلسات العلمية، وضمان جاهزية الوسائل التقنية، لضمان إقامة المؤتمر بصورة تليق باسم كلية الألسن بجامعة الأقصر.`,
      date: new Date('2025-04-23'),
      category: NewsCategory.POSTGRADUATE,
      image: './assets/postgraduate-new1.png',
      author: 'مكتب الدراسات العليا',
      tags: ['مؤتمر', 'دراسات عليا', 'بحث', 'دولي']
    },
    {
      id: 15,
      title: 'مؤتمر الباحثين الشباب بكلية الألسن: 28 باحثًا يناقشون دور العلوم الإنسانية',
      summary: 'شهد المؤتمر مشاركة نشطة من 28 باحثًا يناقشون قضايا لغوية وترجمية وأدبية، برعاية رئيسة الجامعة.',
      content: `تحت عنوان "دور العلوم الإنسانية والاجتماعية في مواجهة التحديات وتعزيز التواصل بين الشعوب" في 13 أبريل 2025، شارك 28 باحثًا وباحثة بأبحاث قيمة في مؤتمر الباحثين الشباب بكلية الألسن - جامعة الأقصر. نظمت كلية الألسن بجامعة الأقصر مؤتمرها السنوي للباحثين الشباب، والذي شهد مشاركة نشطة من 28 باحثًا وباحثة من مختلف التخصصات اللغوية والأدبية والترجمية. أقيمت فعاليات المؤتمر برعاية الأستاذة الدكتورة صبرين جابر عبد الجليل، رئيس الجامعة، والأستاذ الدكتور محمود النوبي أحمد، عميد الكلية، وتحت إشراف الدراسات العليا بالكلية بقيادة الدكتور يوسف عباس علي، وكيل الكلية للدراسات العليا والبحوث. أكدت رئيسة الجامعة في كلمتها أن البحث العلمي أصبح ضرورة ملحة في عصر تتعدد فيه التحديات، مشددة على أن جامعة الأقصر تهدف إلى تعزيز ثقافة البحث المرتبط بقضايا التنمية المستدامة، من خلال دعم الباحثين الشباب وتوجيههم نحو إعداد بحوث ذات أثر مجتمعي ملموس، مما يساهم في تحقيق أهداف رؤية مصر 2030. أقيم المؤتمر تحت عنوان: "دور العلوم الإنسانية والاجتماعية في مواجهة التحديات وتعزيز التواصل بين الشعوب"، حيث ناقش المشاركون مجموعة واسعة من الموضوعات التي تتناول القضايا اللغوية الحديثة، ومشكلات الترجمة، وتقنيات الذكاء الاصطناعي المعاصرة، بالإضافة إلى قراءات نقدية في الأدب العربي والعالمي. تم توزيع الأبحاث المقدمة على جلسات علمية متخصصة أدارها نخبة من المتخصصين من داخل الكلية وخارجها، مما أضاف طابعًا علميًا صلبًا للنقاشات وفتح آفاقًا جديدة للباحثين.`,
      date: new Date('2025-04-13'),
      category: NewsCategory.POSTGRADUATE,
      image: './assets/postgraduate-new2.png',
      author: 'مكتب الدراسات العليا',
      tags: ['مؤتمر', 'دراسات عليا', 'بحث', 'باحثون شباب']
    },
    {
      id: 16,
      title: 'مؤتمر الباحثين الشباب بكلية الألسن: 28 باحثًا يناقشون دور العلوم الإنسانية',
      summary: 'شهد المؤتمر مشاركة نشطة من 28 باحثًا يناقشون قضايا لغوية وترجمية وأدبية، برعاية رئيسة الجامعة.',
      content: `تحت عنوان "دور العلوم الإنسانية والاجتماعية في مواجهة التحديات وتعزيز التواصل بين الشعوب" في 13 أبريل 2025، شارك 28 باحثًا وباحثة بأبحاث قيمة في مؤتمر الباحثين الشباب بكلية الألسن - جامعة الأقصر. نظمت كلية الألسن بجامعة الأقصر مؤتمرها السنوي للباحثين الشباب، والذي شهد مشاركة نشطة من 28 باحثًا وباحثة من مختلف التخصصات اللغوية والأدبية والترجمية. أقيمت فعاليات المؤتمر برعاية الأستاذة الدكتورة صبرين جابر عبد الجليل، رئيس الجامعة، والأستاذ الدكتور محمود النوبي أحمد، عميد الكلية، وتحت إشراف الدراسات العليا بالكلية بقيادة الدكتور يوسف عباس علي، وكيل الكلية للدراسات العليا والبحوث. أكدت رئيسة الجامعة في كلمتها أن البحث العلمي أصبح ضرورة ملحة في عصر تتعدد فيه التحديات، مشددة على أن جامعة الأقصر تهدف إلى تعزيز ثقافة البحث المرتبط بقضايا التنمية المستدامة، من خلال دعم الباحثين الشباب وتوجيههم نحو إعداد بحوث ذات أثر مجتمعي ملموس، مما يساهم في تحقيق أهداف رؤية مصر 2030. أقيم المؤتمر تحت عنوان: "دور العلوم الإنسانية والاجتماعية في مواجهة التحديات وتعزيز التواصل بين الشعوب"، حيث ناقش المشاركون مجموعة واسعة من الموضوعات التي تتناول القضايا اللغوية الحديثة، ومشكلات الترجمة، وتقنيات الذكاء الاصطناعي المعاصرة، بالإضافة إلى قراءات نقدية في الأدب العربي والعالمي. تم توزيع الأبحاث المقدمة على جلسات علمية متخصصة أدارها نخبة من المتخصصين من داخل الكلية وخارجها، مما أضاف طابعًا علميًا صلبًا للنقاشات وفتح آفاقًا جديدة للباحثين.`,
      date: new Date('2025-04-13'),
      category: NewsCategory.POSTGRADUATE,
      image: './assets/postgraduate-new1.png',
      author: 'مكتب الدراسات العليا',
      tags: ['مؤتمر', 'دراسات عليا', 'بحث', 'باحثون شباب']
    }
  ];

  getAllNews(): NewsItem[] {
    return this.newsItems.sort((a, b) => b.date.getTime() - a.date.getTime());
  }

  getNewsById(id: number): NewsItem | undefined {
    return this.newsItems.find(item => item.id === id);
  }

  getNewsByCategory(category: NewsCategory): NewsItem[] {
    return this.newsItems
      .filter(item => item.category === category)
      .sort((a, b) => b.date.getTime() - a.date.getTime());
  }

  filterNews(filter: NewsFilter): NewsItem[] {
    let filteredNews = this.newsItems;

    if (filter.category) {
      filteredNews = filteredNews.filter(item => item.category === filter.category);
    }

    if (filter.year) {
      filteredNews = filteredNews.filter(item => item.date.getFullYear() === filter.year);
    }

    if (filter.month) {
      filteredNews = filteredNews.filter(item => item.date.getMonth() + 1 === filter.month);
    }

    if (filter.keyword) {
      const keyword = filter.keyword.toLowerCase();
      filteredNews = filteredNews.filter(item =>
        item.title.toLowerCase().includes(keyword) ||
        item.summary.toLowerCase().includes(keyword) ||
        item.content.toLowerCase().includes(keyword) ||
        (item.tags && item.tags.some(tag => tag.toLowerCase().includes(keyword)))
      );
    }

    return filteredNews.sort((a, b) => b.date.getTime() - a.date.getTime());
  }

  getFeaturedNews(): NewsItem[] {
    return this.newsItems
      .filter(item => item.featured)
      .sort((a, b) => b.date.getTime() - a.date.getTime())
      .slice(0, 3);
  }

  getRecentNews(limit: number = 5): NewsItem[] {
    return this.newsItems
      .sort((a, b) => b.date.getTime() - a.date.getTime())
      .slice(0, limit);
  }

  addNews(newNews: NewsItem): void {
    newNews.id = this.newsItems.length ? Math.max(...this.newsItems.map(item => item.id)) + 1 : 1;
    this.newsItems.push(newNews);
  }

  updateNews(updatedNews: NewsItem): void {
    const index = this.newsItems.findIndex(item => item.id === updatedNews.id);
    if (index !== -1) {
      this.newsItems[index] = updatedNews;
    }
  }

  deleteNews(id: number): void {
    this.newsItems = this.newsItems.filter(item => item.id !== id);
  }
}